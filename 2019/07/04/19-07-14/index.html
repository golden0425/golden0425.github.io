<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>值得收藏的js工具函数( 持续更新.. ) | aXi(囍)</title><meta name="description" content="第一篇文章🍉"><meta name="keywords" content="JavaScript"><meta name="author" content="Golden W"><meta name="copyright" content="Golden W"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="canonical" href="http://yoursite.com/2019/07/04/19-07-14/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="值得收藏的js工具函数( 持续更新.. )"><meta name="twitter:description" content="第一篇文章🍉"><meta name="twitter:image" content="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1562188381600&amp;di=6cc45a835711891832093ad4a4bf0551&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.qqtn.com%2Fup%2F2018-2%2F15193565237817533.jpg"><meta property="og:type" content="article"><meta property="og:title" content="值得收藏的js工具函数( 持续更新.. )"><meta property="og:url" content="http://yoursite.com/2019/07/04/19-07-14/"><meta property="og:site_name" content="aXi(囍)"><meta property="og:description" content="第一篇文章🍉"><meta property="og:image" content="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1562188381600&amp;di=6cc45a835711891832093ad4a4bf0551&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.qqtn.com%2Fup%2F2018-2%2F15193565237817533.jpg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="prev" title="Vue源码学习" href="http://yoursite.com/2020/05/31/20-05-31/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"TUDD3JRDKI","apiKey":"ce131b4ddd27af55204499faebf545b2","indexName":"dev_aXiBlog","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: {"defaultEncoding":1,"translateDelay":0,"cookieDomain":"https://jerryc.me/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight_copy: 'true',
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: '添加书签',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天'

  
}</script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-检测是不是除了symbol以外的原始数据"><span class="toc-number">1.</span> <span class="toc-text">1. 检测是不是除了symbol以外的原始数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-isPrimitive-检测数据是不是原始数据"><span class="toc-number">2.</span> <span class="toc-text">2. isPrimitive: 检测数据是不是原始数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-isObject：判断数据是不是引用类型的数据"><span class="toc-number">3.</span> <span class="toc-text">3. isObject：判断数据是不是引用类型的数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-isObjectLike：检查-value-是否是-类对象。"><span class="toc-number">4.</span> <span class="toc-text">4. isObjectLike：检查 value 是否是 类对象。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-getRawType：获取数据类型，返回结果为-Number、String、Object、Array等"><span class="toc-number">5.</span> <span class="toc-text">5. getRawType：获取数据类型，返回结果为 Number、String、Object、Array等</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-isPlainObject：判断数据是不是Object类型的数据"><span class="toc-number">6.</span> <span class="toc-text">6. isPlainObject：判断数据是不是Object类型的数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-isArray：判断数据是不是数组类型的数据"><span class="toc-number">7.</span> <span class="toc-text">7. isArray：判断数据是不是数组类型的数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-isRegExp：判断数据是不是正则对象"><span class="toc-number">8.</span> <span class="toc-text">8. isRegExp：判断数据是不是正则对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-isDate：判断数据是不是时间对象"><span class="toc-number">9.</span> <span class="toc-text">9. isDate：判断数据是不是时间对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-isNative：判断-value-是不是浏览器内置函数"><span class="toc-number">10.</span> <span class="toc-text">10. isNative：判断 value 是不是浏览器内置函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-isFunction：检查-value-是不是函数"><span class="toc-number">11.</span> <span class="toc-text">11. isFunction：检查 value 是不是函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-isLength：检查-value-是否为有效的类数组长度"><span class="toc-number">12.</span> <span class="toc-text">12. isLength：检查 value 是否为有效的类数组长度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-isArrayLike：检查-value-是否是类数组"><span class="toc-number">13.</span> <span class="toc-text">13. isArrayLike：检查 value 是否是类数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-isEmpty：检查-value-是否为空"><span class="toc-number">14.</span> <span class="toc-text">14. isEmpty：检查 value 是否为空</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-cached：记忆函数：缓存函数的运算结果"><span class="toc-number">15.</span> <span class="toc-text">15. cached：记忆函数：缓存函数的运算结果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-camelize：横线转驼峰命名"><span class="toc-number">16.</span> <span class="toc-text">16. camelize：横线转驼峰命名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-hyphenate：驼峰命名转横线命名：拆分字符串，使用-相连，并且转换为小写"><span class="toc-number">17.</span> <span class="toc-text">17. hyphenate：驼峰命名转横线命名：拆分字符串，使用 - 相连，并且转换为小写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-capitalize：字符串首位大写"><span class="toc-number">18.</span> <span class="toc-text">18. capitalize：字符串首位大写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-extend：将属性混合到目标对象中"><span class="toc-number">19.</span> <span class="toc-text">19. extend：将属性混合到目标对象中</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-Object-assign：对象属性复制，浅拷贝"><span class="toc-number">20.</span> <span class="toc-text">20. Object.assign：对象属性复制，浅拷贝</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-clone：克隆数据，可深度克隆"><span class="toc-number">21.</span> <span class="toc-text">21. clone：克隆数据，可深度克隆</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-识别各种浏览器及平台"><span class="toc-number">22.</span> <span class="toc-text">22. 识别各种浏览器及平台</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-getExplorerInfo：获取浏览器信息"><span class="toc-number">23.</span> <span class="toc-text">23. getExplorerInfo：获取浏览器信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-isPCBroswer：检测是否为PC端浏览器模式"><span class="toc-number">24.</span> <span class="toc-text">24. isPCBroswer：检测是否为PC端浏览器模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-unique：数组去重，返回一个新数组"><span class="toc-number">25.</span> <span class="toc-text">25. unique：数组去重，返回一个新数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#26-Set简单实现"><span class="toc-number">26.</span> <span class="toc-text">26. Set简单实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#27-repeat：生成一个重复的字符串，有n个str组成，可修改为填充为数组等"><span class="toc-number">27.</span> <span class="toc-text">27. repeat：生成一个重复的字符串，有n个str组成，可修改为填充为数组等</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#28-dateFormater：格式化时间"><span class="toc-number">28.</span> <span class="toc-text">28. dateFormater：格式化时间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#29-dateStrForma：将指定字符串由一种时间格式转化为另一种from的格式应对应str的位置"><span class="toc-number">29.</span> <span class="toc-text">29. dateStrForma：将指定字符串由一种时间格式转化为另一种from的格式应对应str的位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#30-getPropByPath：根据字符串路径获取对象属性-‘obj-0-count’"><span class="toc-number">30.</span> <span class="toc-text">30. getPropByPath：根据字符串路径获取对象属性 : ‘obj[0].count’</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#31-GetUrlParam：获取Url参数，返回一个对象"><span class="toc-number">31.</span> <span class="toc-text">31.GetUrlParam：获取Url参数，返回一个对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-downloadFile：base64数据导出文件，文件下载"><span class="toc-number">32.</span> <span class="toc-text">32. downloadFile：base64数据导出文件，文件下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33-toFullScreen：全屏"><span class="toc-number">33.</span> <span class="toc-text">33. toFullScreen：全屏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34-exitFullscreen：退出全屏"><span class="toc-number">34.</span> <span class="toc-text">34. exitFullscreen：退出全屏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35-requestAnimationFrame：window动画"><span class="toc-number">35.</span> <span class="toc-text">35. requestAnimationFrame：window动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#36-isNaN：检查数据是否是非数字值"><span class="toc-number">36.</span> <span class="toc-text">36. _isNaN：检查数据是否是非数字值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37-max：求取数组中非NaN数据中的最大值"><span class="toc-number">37.</span> <span class="toc-text">37. max：求取数组中非NaN数据中的最大值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#38-min：求取数组中非NaN数据中的最小值"><span class="toc-number">38.</span> <span class="toc-text">38. min：求取数组中非NaN数据中的最小值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39-random：返回一个lower-upper之间的随机数"><span class="toc-number">39.</span> <span class="toc-text">39. random：返回一个lower - upper之间的随机数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#40-Object-keys：返回一个由一个给定对象的自身可枚举属性组成的数组"><span class="toc-number">40.</span> <span class="toc-text">40. Object.keys：返回一个由一个给定对象的自身可枚举属性组成的数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#41-Object-values：返回一个给定对象自身的所有可枚举属性值的数组"><span class="toc-number">41.</span> <span class="toc-text">41. Object.values：返回一个给定对象自身的所有可枚举属性值的数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-arr-fill：使用-value-值来填充-array"><span class="toc-number">42.</span> <span class="toc-text">42. arr.fill：使用 value 值来填充 array</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-arr-includes：用来判断一个数组是否包含一个指定的值，如果是返回-true，否则false，可指定开始查询的位置"><span class="toc-number">43.</span> <span class="toc-text">43. arr.includes：用来判断一个数组是否包含一个指定的值，如果是返回 true，否则false，可指定开始查询的位置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#44-arr-find：返回数组中通过测试（函数fn内判断）的第一个元素的值"><span class="toc-number">44.</span> <span class="toc-text">44. arr.find：返回数组中通过测试（函数fn内判断）的第一个元素的值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#45-arr-findIndex-：返回数组中通过测试（函数fn内判断）的第一个元素的下标"><span class="toc-number">45.</span> <span class="toc-text">45. arr.findIndex ：返回数组中通过测试（函数fn内判断）的第一个元素的下标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#46-performance-timing：利用performance-timing进行性能分析"><span class="toc-number">46.</span> <span class="toc-text">46. performance.timing：利用performance.timing进行性能分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#47-禁止某些键盘事件"><span class="toc-number">47.</span> <span class="toc-text">47. 禁止某些键盘事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#48-禁止右键、选择、复制"><span class="toc-number">48.</span> <span class="toc-text">48. 禁止右键、选择、复制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#49-正则"><span class="toc-number">49.</span> <span class="toc-text">49.正则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#50-检测平台（设备）类型"><span class="toc-number">50.</span> <span class="toc-text">50.检测平台（设备）类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#51-常用的日期时间函数"><span class="toc-number">51.</span> <span class="toc-text">51.常用的日期时间函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52-跨端事件处理"><span class="toc-number">52.</span> <span class="toc-text">52.跨端事件处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#53-移动端适配方案"><span class="toc-number">53.</span> <span class="toc-text">53.移动端适配方案</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#54-常用的js算法"><span class="toc-number">54.</span> <span class="toc-text">54.常用的js算法</span></a></li></ol></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1721774578,1123457056&amp;fm=26&amp;gp=0.jpg)"><div id="page-header"><span class="pull-left"> <a class="blog_title" id="site-name" href="/">aXi(囍)</a></span><div class="open toggle-menu pull-right"><div class="menu-icon-first"></div><div class="menu-icon-second"></div><div class="menu-icon-third"></div></div><span class="pull-right menus"><div class="mobile_author_icon"><img class="lozad" data-src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1562188381600&amp;di=6cc45a835711891832093ad4a4bf0551&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.qqtn.com%2Fup%2F2018-2%2F15193565237817533.jpg" onerror="onerror=null;src='/img/friend_404.gif'"><div class="mobile_author-info__description">今日事、今日毕</div></div><hr><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a><script>document.body.addEventListener('touchstart', function(){ });</script></div></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title"><div class="posttitle">值得收藏的js工具函数( 持续更新.. )</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-07-04<span class="post-meta__separator">|</span><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-05-31</time><span class="post-meta__separator mobile_hidden">|</span><span class="mobile_hidden"><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/前端资料/">前端资料</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/前端资料/JavaScript/">JavaScript</a></span></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><h2 id="1-检测是不是除了symbol以外的原始数据"><a href="#1-检测是不是除了symbol以外的原始数据" class="headerlink" title="1. 检测是不是除了symbol以外的原始数据"></a>1. 检测是不是除了symbol以外的原始数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function isStatic(value)&#123;</span><br><span class="line">    return(</span><br><span class="line">        typeof value === &apos;string&apos; ||</span><br><span class="line">        typeof value === &apos;number&apos; ||</span><br><span class="line">        typeof value === &apos;booleaån&apos; ||</span><br><span class="line">        typeof value === &apos;undefined&apos; ||</span><br><span class="line">        value === null</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-isPrimitive-检测数据是不是原始数据"><a href="#2-isPrimitive-检测数据是不是原始数据" class="headerlink" title="2. isPrimitive: 检测数据是不是原始数据"></a>2. isPrimitive: 检测数据是不是原始数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isPrimitive(value) &#123;</span><br><span class="line">    return isStatic(value) || typeof value === &apos;symbol&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-isObject：判断数据是不是引用类型的数据"><a href="#3-isObject：判断数据是不是引用类型的数据" class="headerlink" title="3. isObject：判断数据是不是引用类型的数据"></a>3. isObject：判断数据是不是引用类型的数据</h2><p><strong>例如： arrays, functions, objects, regexes, new Number(0),以及 new String(‘’)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function isObject(value) &#123;</span><br><span class="line">      let type = typeof value;</span><br><span class="line">      return value != null &amp;&amp; (type == &apos;object&apos; || type == &apos;function&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-isObjectLike：检查-value-是否是-类对象。"><a href="#4-isObjectLike：检查-value-是否是-类对象。" class="headerlink" title="4. isObjectLike：检查 value 是否是 类对象。"></a>4. isObjectLike：检查 value 是否是 类对象。</h2><p><strong>如果一个值是类对象，那么它不应该是 null，而且 typeof 后的结果是 “object”</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isObjectLike(value) &#123;</span><br><span class="line">      return value != null &amp;&amp; typeof value == &apos;object&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-getRawType：获取数据类型，返回结果为-Number、String、Object、Array等"><a href="#5-getRawType：获取数据类型，返回结果为-Number、String、Object、Array等" class="headerlink" title="5. getRawType：获取数据类型，返回结果为 Number、String、Object、Array等"></a>5. getRawType：获取数据类型，返回结果为 Number、String、Object、Array等</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function getRawType(value) &#123;</span><br><span class="line">    return Object.prototype.toString.call(value).slice(8, -1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-isPlainObject：判断数据是不是Object类型的数据"><a href="#6-isPlainObject：判断数据是不是Object类型的数据" class="headerlink" title="6. isPlainObject：判断数据是不是Object类型的数据"></a>6. isPlainObject：判断数据是不是Object类型的数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function isPlainObject(obj) &#123;</span><br><span class="line">    return Object.prototype.toString.call(obj) === &apos;[object Object]&apos;</span><br><span class="line">&#125;</span><br><span class="line">// 将isArray挂载到Array上</span><br><span class="line">Array.isArray = Array.isArray || isArray;</span><br></pre></td></tr></table></figure>

<h2 id="7-isArray：判断数据是不是数组类型的数据"><a href="#7-isArray：判断数据是不是数组类型的数据" class="headerlink" title="7. isArray：判断数据是不是数组类型的数据"></a>7. isArray：判断数据是不是数组类型的数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isArray(arr) &#123;</span><br><span class="line">    return Object.prototype.toString.call(arr) === &apos;[object Array]&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-isRegExp：判断数据是不是正则对象"><a href="#8-isRegExp：判断数据是不是正则对象" class="headerlink" title="8. isRegExp：判断数据是不是正则对象"></a>8. isRegExp：判断数据是不是正则对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isRegExp(value) &#123;</span><br><span class="line">    return Object.prototype.toString.call(value) === &apos;[object RegExp]&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-isDate：判断数据是不是时间对象"><a href="#9-isDate：判断数据是不是时间对象" class="headerlink" title="9. isDate：判断数据是不是时间对象"></a>9. isDate：判断数据是不是时间对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isDate(value) &#123;</span><br><span class="line">    return Object.prototype.toString.call(value) === &apos;[object Date]&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="10-isNative：判断-value-是不是浏览器内置函数"><a href="#10-isNative：判断-value-是不是浏览器内置函数" class="headerlink" title="10. isNative：判断 value 是不是浏览器内置函数"></a>10. isNative：判断 value 是不是浏览器内置函数</h2><p><strong>toString后的主体代码块为 [native code] ，而非内置函数则为相关代码，所以非内置函数可以进行拷贝(toString后掐头去尾再由Function转)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isNative(value) &#123;</span><br><span class="line">    return typeof value === &apos;function&apos; &amp;&amp; /native code/.test(value.toString())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="11-isFunction：检查-value-是不是函数"><a href="#11-isFunction：检查-value-是不是函数" class="headerlink" title="11. isFunction：检查 value 是不是函数"></a>11. isFunction：检查 value 是不是函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isFunction(value) &#123;</span><br><span class="line">    return Object.prototype.toString.call(value) === &apos;[object Function]&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="12-isLength：检查-value-是否为有效的类数组长度"><a href="#12-isLength：检查-value-是否为有效的类数组长度" class="headerlink" title="12. isLength：检查 value 是否为有效的类数组长度"></a>12. isLength：检查 value 是否为有效的类数组长度</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isLength(value) &#123;</span><br><span class="line">      return typeof value == &apos;number&apos; &amp;&amp; value &gt; -1 &amp;&amp; value % 1 == 0 &amp;&amp; value &lt;= Number.MAX_SAFE_INTEGER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="13-isArrayLike：检查-value-是否是类数组"><a href="#13-isArrayLike：检查-value-是否是类数组" class="headerlink" title="13. isArrayLike：检查 value 是否是类数组"></a>13. isArrayLike：检查 value 是否是类数组</h2><p><strong>如果一个值被认为是类数组，那么它不是一个函数，并且value.length是个整数，大于等于 0，小于或等于 Number.MAX_SAFE_INTEGER。这里字符串也将被当作类数组。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function isArrayLike(value) &#123;</span><br><span class="line">      return value != null &amp;&amp; isLength(value.length) &amp;&amp; !isFunction(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="14-isEmpty：检查-value-是否为空"><a href="#14-isEmpty：检查-value-是否为空" class="headerlink" title="14. isEmpty：检查 value 是否为空"></a>14. isEmpty：检查 value 是否为空</h2><p><strong>如果是null，直接返回true；如果是类数组，判断数据长度；如果是Object对象，判断是否具有属性；如果是其他数据，直接返回false(也可改为返回true)</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function isEmpty(value) &#123;</span><br><span class="line">    if (value == null) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">    if (isArrayLike(value)) &#123;</span><br><span class="line">        return !value.length;</span><br><span class="line">    &#125;else if(isPlainObject(value))&#123;</span><br><span class="line">          for (let key in value) &#123;</span><br><span class="line">            if (hasOwnProperty.call(value, key)) &#123;</span><br><span class="line">              return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="15-cached：记忆函数：缓存函数的运算结果"><a href="#15-cached：记忆函数：缓存函数的运算结果" class="headerlink" title="15. cached：记忆函数：缓存函数的运算结果"></a>15. cached：记忆函数：缓存函数的运算结果</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function cached(fn) &#123;</span><br><span class="line">    let cache = Object.create(null);</span><br><span class="line">    return function cachedFn(str) &#123;</span><br><span class="line">        let hit = cache[str];</span><br><span class="line">        return hit || (cache[str] = fn(str))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="16-camelize：横线转驼峰命名"><a href="#16-camelize：横线转驼峰命名" class="headerlink" title="16. camelize：横线转驼峰命名"></a>16. camelize：横线转驼峰命名</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">let camelizeRE = /-(\w)/g;</span><br><span class="line">function camelize(str) &#123;</span><br><span class="line">    return str.replace(camelizeRE, function(_, c) &#123;</span><br><span class="line">        return c ? c.toUpperCase() : &apos;&apos;;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">//ab-cd-ef ==&gt; abCdEf</span><br><span class="line">//使用记忆函数</span><br><span class="line">let _camelize = cached(camelize)</span><br></pre></td></tr></table></figure>

<h2 id="17-hyphenate：驼峰命名转横线命名：拆分字符串，使用-相连，并且转换为小写"><a href="#17-hyphenate：驼峰命名转横线命名：拆分字符串，使用-相连，并且转换为小写" class="headerlink" title="17. hyphenate：驼峰命名转横线命名：拆分字符串，使用 - 相连，并且转换为小写"></a>17. hyphenate：驼峰命名转横线命名：拆分字符串，使用 - 相连，并且转换为小写</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let hyphenateRE = /\B([A-Z])/g;</span><br><span class="line">function hyphenate(str)&#123;</span><br><span class="line">    return str.replace(hyphenateRE, &apos;-$1&apos;).toLowerCase()</span><br><span class="line">&#125;</span><br><span class="line">//abCd ==&gt; ab-cd</span><br><span class="line">//使用记忆函数</span><br><span class="line">let _hyphenate = cached(hyphenate);</span><br></pre></td></tr></table></figure>

<h2 id="18-capitalize：字符串首位大写"><a href="#18-capitalize：字符串首位大写" class="headerlink" title="18. capitalize：字符串首位大写"></a>18. capitalize：字符串首位大写</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function capitalize(str)&#123;</span><br><span class="line">    return str.charAt(0).toUpperCase() + str.slice(1)</span><br><span class="line">&#125;</span><br><span class="line">// abc ==&gt; Abc</span><br><span class="line">//使用记忆函数</span><br><span class="line">let _capitalize = cached(capitalize)</span><br></pre></td></tr></table></figure>

<h2 id="19-extend：将属性混合到目标对象中"><a href="#19-extend：将属性混合到目标对象中" class="headerlink" title="19. extend：将属性混合到目标对象中"></a>19. extend：将属性混合到目标对象中</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function extend(to, _from) &#123;</span><br><span class="line">    for(let key in _from) &#123;</span><br><span class="line">        to[key] = _from[key];</span><br><span class="line">    &#125;</span><br><span class="line">    return to</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="20-Object-assign：对象属性复制，浅拷贝"><a href="#20-Object-assign：对象属性复制，浅拷贝" class="headerlink" title="20. Object.assign：对象属性复制，浅拷贝"></a>20. Object.assign：对象属性复制，浅拷贝</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Object.assign = Object.assign || function()&#123;</span><br><span class="line">    if(arguments.length == 0) throw new TypeError(&apos;Cannot convert undefined or null to object&apos;);</span><br><span class="line"></span><br><span class="line">    let target = arguments[0],</span><br><span class="line">        args = Array.prototype.slice.call(arguments, 1),</span><br><span class="line">        key</span><br><span class="line">    args.forEach(function(item)&#123;</span><br><span class="line">        for(key in item)&#123;</span><br><span class="line">            item.hasOwnProperty(key) &amp;&amp; ( target[key] = item[key] )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    return target</span><br><span class="line">&#125;</span><br><span class="line">// 使用Object.assign可以浅克隆一个对象：</span><br><span class="line">let clone = Object.assign(&#123;&#125;, target)</span><br><span class="line">// 简单的深克隆可以使用JSON.parse()和JSON.stringify()，这两个api是解析json数据的，所以只能解析除symbol外的原始类型及数组和对象</span><br><span class="line">let clone = JSON.parse( JSON.stringify(target) )</span><br></pre></td></tr></table></figure>

<h2 id="21-clone：克隆数据，可深度克隆"><a href="#21-clone：克隆数据，可深度克隆" class="headerlink" title="21. clone：克隆数据，可深度克隆"></a>21. clone：克隆数据，可深度克隆</h2><p><strong>这里列出了原始类型，时间、正则、错误、数组、对象的克隆规则，其他的可自行补充</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function clone(value, deep)&#123;</span><br><span class="line">    if(isPrimitive(value))&#123;</span><br><span class="line">        return value</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (isArrayLike(value)) &#123; //是类数组</span><br><span class="line">        value = Array.prototype.slice.call(value)</span><br><span class="line">        return value.map(item =&gt; deep ? clone(item, deep) : item)</span><br><span class="line">       &#125;else if(isPlainObject(value))&#123; //是对象</span><br><span class="line">           let target = &#123;&#125;, key;</span><br><span class="line">          for (key in value) &#123;</span><br><span class="line">            value.hasOwnProperty(key) &amp;&amp; ( target[key] = deep ? clone(value[key], deep) : value[key] )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let type = getRawType(value)</span><br><span class="line"></span><br><span class="line">    switch(type)&#123;</span><br><span class="line">        case &apos;Date&apos;:</span><br><span class="line">        case &apos;RegExp&apos;:</span><br><span class="line">        case &apos;Error&apos;: value = new window[type](value); break;</span><br><span class="line">    &#125;</span><br><span class="line">    return value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="22-识别各种浏览器及平台"><a href="#22-识别各种浏览器及平台" class="headerlink" title="22. 识别各种浏览器及平台"></a>22. 识别各种浏览器及平台</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//运行环境是浏览器</span><br><span class="line">let inBrowser = typeof window !== &apos;undefined&apos;;</span><br><span class="line">//运行环境是微信</span><br><span class="line">let inWeex = typeof WXEnvironment !== &apos;undefined&apos; &amp;&amp; !!WXEnvironment.platform;</span><br><span class="line">let weexPlatform = inWeex &amp;&amp; WXEnvironment.platform.toLowerCase();</span><br><span class="line">//浏览器 UA 判断</span><br><span class="line">let UA = inBrowser &amp;&amp; window.navigator.userAgent.toLowerCase();</span><br><span class="line">let isIE = UA &amp;&amp; /msie|trident/.test(UA);</span><br><span class="line">let isIE9 = UA &amp;&amp; UA.indexOf(&apos;msie 9.0&apos;) &gt; 0;</span><br><span class="line">let isEdge = UA &amp;&amp; UA.indexOf(&apos;edge/&apos;) &gt; 0;</span><br><span class="line">let isAndroid = (UA &amp;&amp; UA.indexOf(&apos;android&apos;) &gt; 0) || (weexPlatform === &apos;android&apos;);</span><br><span class="line">let isIOS = (UA &amp;&amp; /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === &apos;ios&apos;);</span><br><span class="line">let isChrome = UA &amp;&amp; /chrome\/\d+/.test(UA) &amp;&amp; !isEdge;</span><br></pre></td></tr></table></figure>

<h2 id="23-getExplorerInfo：获取浏览器信息"><a href="#23-getExplorerInfo：获取浏览器信息" class="headerlink" title="23. getExplorerInfo：获取浏览器信息"></a>23. getExplorerInfo：获取浏览器信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">function getExplorerInfo() &#123;</span><br><span class="line">    let t = navigator.userAgent.toLowerCase();</span><br><span class="line">    return 0 &lt;= t.indexOf(&quot;msie&quot;) ? &#123; //ie &lt; 11</span><br><span class="line">        type: &quot;IE&quot;,</span><br><span class="line">        version: Number(t.match(/msie ([\d]+)/)[1])</span><br><span class="line">    &#125; : !!t.match(/trident\/.+?rv:(([\d.]+))/) ? &#123; // ie 11</span><br><span class="line">        type: &quot;IE&quot;,</span><br><span class="line">        version: 11</span><br><span class="line">    &#125; : 0 &lt;= t.indexOf(&quot;edge&quot;) ? &#123;</span><br><span class="line">        type: &quot;Edge&quot;,</span><br><span class="line">        version: Number(t.match(/edge\/([\d]+)/)[1])</span><br><span class="line">    &#125; : 0 &lt;= t.indexOf(&quot;firefox&quot;) ? &#123;</span><br><span class="line">        type: &quot;Firefox&quot;,</span><br><span class="line">        version: Number(t.match(/firefox\/([\d]+)/)[1])</span><br><span class="line">    &#125; : 0 &lt;= t.indexOf(&quot;chrome&quot;) ? &#123;</span><br><span class="line">        type: &quot;Chrome&quot;,</span><br><span class="line">        version: Number(t.match(/chrome\/([\d]+)/)[1])</span><br><span class="line">    &#125; : 0 &lt;= t.indexOf(&quot;opera&quot;) ? &#123;</span><br><span class="line">        type: &quot;Opera&quot;,</span><br><span class="line">        version: Number(t.match(/opera.([\d]+)/)[1])</span><br><span class="line">    &#125; : 0 &lt;= t.indexOf(&quot;Safari&quot;) ? &#123;</span><br><span class="line">        type: &quot;Safari&quot;,</span><br><span class="line">        version: Number(t.match(/version\/([\d]+)/)[1])</span><br><span class="line">    &#125; : &#123;</span><br><span class="line">        type: t,</span><br><span class="line">        version: -1</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="24-isPCBroswer：检测是否为PC端浏览器模式"><a href="#24-isPCBroswer：检测是否为PC端浏览器模式" class="headerlink" title="24. isPCBroswer：检测是否为PC端浏览器模式"></a>24. isPCBroswer：检测是否为PC端浏览器模式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function isPCBroswer() &#123;</span><br><span class="line">    let e = navigator.userAgent.toLowerCase()</span><br><span class="line">        , t = &quot;ipad&quot; == e.match(/ipad/i)</span><br><span class="line">        , i = &quot;iphone&quot; == e.match(/iphone/i)</span><br><span class="line">        , r = &quot;midp&quot; == e.match(/midp/i)</span><br><span class="line">        , n = &quot;rv:1.2.3.4&quot; == e.match(/rv:1.2.3.4/i)</span><br><span class="line">        , a = &quot;ucweb&quot; == e.match(/ucweb/i)</span><br><span class="line">        , o = &quot;android&quot; == e.match(/android/i)</span><br><span class="line">        , s = &quot;windows ce&quot; == e.match(/windows ce/i)</span><br><span class="line">        , l = &quot;windows mobile&quot; == e.match(/windows mobile/i);</span><br><span class="line">    return !(t || i || r || n || a || o || s || l)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="25-unique：数组去重，返回一个新数组"><a href="#25-unique：数组去重，返回一个新数组" class="headerlink" title="25. unique：数组去重，返回一个新数组"></a>25. unique：数组去重，返回一个新数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">function unique(arr)&#123;</span><br><span class="line">    if(!isArrayLink(arr))&#123; //不是类数组对象</span><br><span class="line">        return arr</span><br><span class="line">    &#125;</span><br><span class="line">    let result = []</span><br><span class="line">    let objarr = []</span><br><span class="line">    let obj = Object.create(null)</span><br><span class="line"></span><br><span class="line">    arr.forEach(item =&gt; &#123;</span><br><span class="line">        if(isStatic(item))&#123;//是除了symbol外的原始数据</span><br><span class="line">            let key = item + &apos;_&apos; + getRawType(item);</span><br><span class="line">            if(!obj[key])&#123;</span><br><span class="line">                obj[key] = true</span><br><span class="line">                result.push(item)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else&#123;//引用类型及symbol</span><br><span class="line">            if(!objarr.includes(item))&#123;</span><br><span class="line">                objarr.push(item)</span><br><span class="line">                result.push(item)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    return resulte</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="26-Set简单实现"><a href="#26-Set简单实现" class="headerlink" title="26. Set简单实现"></a>26. Set简单实现</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">window.Set = window.Set || (function () &#123;</span><br><span class="line">    function Set(arr) &#123;</span><br><span class="line">        this.items = arr ? unique(arr) : [];</span><br><span class="line">        this.size = this.items.length; // Array的大小</span><br><span class="line">    &#125;</span><br><span class="line">    Set.prototype = &#123;</span><br><span class="line">        add: function (value) &#123;</span><br><span class="line">            // 添加元素,若元素已存在,则跳过，返回 Set 结构本身。</span><br><span class="line">            if (!this.has(value)) &#123;</span><br><span class="line">                this.items.push(value);</span><br><span class="line">                this.size++;</span><br><span class="line">            &#125;</span><br><span class="line">            return this;</span><br><span class="line">        &#125;,</span><br><span class="line">        clear: function () &#123;</span><br><span class="line">            //清除所有成员，没有返回值。</span><br><span class="line">            this.items = []</span><br><span class="line">            this.size = 0</span><br><span class="line">        &#125;,</span><br><span class="line">        delete: function (value) &#123;</span><br><span class="line">            //删除某个值，返回一个布尔值，表示删除是否成功。</span><br><span class="line">            return this.items.some((v, i) =&gt; &#123;</span><br><span class="line">                if(v === value)&#123;</span><br><span class="line">                    this.items.splice(i,1)</span><br><span class="line">                    return true</span><br><span class="line">                &#125;</span><br><span class="line">                return false</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        has: function (value) &#123;</span><br><span class="line">            //返回一个布尔值，表示该值是否为Set的成员。</span><br><span class="line">            return this.items.some(v =&gt; v === value)</span><br><span class="line">        &#125;,</span><br><span class="line">        values: function () &#123;</span><br><span class="line">            return this.items</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return Set;</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<h2 id="27-repeat：生成一个重复的字符串，有n个str组成，可修改为填充为数组等"><a href="#27-repeat：生成一个重复的字符串，有n个str组成，可修改为填充为数组等" class="headerlink" title="27. repeat：生成一个重复的字符串，有n个str组成，可修改为填充为数组等"></a>27. repeat：生成一个重复的字符串，有n个str组成，可修改为填充为数组等</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function repeat(str, n) &#123;</span><br><span class="line">    let res = &apos;&apos;;</span><br><span class="line">    while(n) &#123;</span><br><span class="line">        if(n % 2 === 1) &#123;</span><br><span class="line">            res += str;</span><br><span class="line">        &#125;</span><br><span class="line">        if(n &gt; 1) &#123;</span><br><span class="line">            str += str;</span><br><span class="line">        &#125;</span><br><span class="line">        n &gt;&gt;= 1;</span><br><span class="line">    &#125;</span><br><span class="line">    return res</span><br><span class="line">&#125;;</span><br><span class="line">//repeat(&apos;123&apos;,3) ==&gt; 123123123</span><br></pre></td></tr></table></figure>

<h2 id="28-dateFormater：格式化时间"><a href="#28-dateFormater：格式化时间" class="headerlink" title="28. dateFormater：格式化时间"></a>28. dateFormater：格式化时间</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function dateFormater(formater, t)&#123;</span><br><span class="line">    let date = t ? new Date(t) : new Date(),</span><br><span class="line">        Y = date.getFullYear() + &apos;&apos;,</span><br><span class="line">        M = date.getMonth() + 1,</span><br><span class="line">        D = date.getDate(),</span><br><span class="line">        H = date.getHours(),</span><br><span class="line">        m = date.getMinutes(),</span><br><span class="line">        s = date.getSeconds();</span><br><span class="line">    return formater.replace(/YYYY|yyyy/g,Y)</span><br><span class="line">        .replace(/YY|yy/g,Y.substr(2,2))</span><br><span class="line">        .replace(/MM/g,(M&lt;10?&apos;0&apos;:&apos;&apos;) + M)</span><br><span class="line">        .replace(/DD/g,(D&lt;10?&apos;0&apos;:&apos;&apos;) + D)</span><br><span class="line">        .replace(/HH|hh/g,(H&lt;10?&apos;0&apos;:&apos;&apos;) + H)</span><br><span class="line">        .replace(/mm/g,(m&lt;10?&apos;0&apos;:&apos;&apos;) + m)</span><br><span class="line">        .replace(/ss/g,(s&lt;10?&apos;0&apos;:&apos;&apos;) + s)</span><br><span class="line">&#125;</span><br><span class="line">// dateFormater(&apos;YYYY-MM-DD HH:mm&apos;, t) ==&gt; 2019-06-26 18:30</span><br><span class="line">// dateFormater(&apos;YYYYMMDDHHmm&apos;, t) ==&gt; 201906261830</span><br></pre></td></tr></table></figure>

<h2 id="29-dateStrForma：将指定字符串由一种时间格式转化为另一种from的格式应对应str的位置"><a href="#29-dateStrForma：将指定字符串由一种时间格式转化为另一种from的格式应对应str的位置" class="headerlink" title="29. dateStrForma：将指定字符串由一种时间格式转化为另一种from的格式应对应str的位置"></a>29. dateStrForma：将指定字符串由一种时间格式转化为另一种from的格式应对应str的位置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function dateStrForma(str, from, to)&#123;</span><br><span class="line">    //&apos;20190626&apos; &apos;YYYYMMDD&apos; &apos;YYYY年MM月DD日&apos;</span><br><span class="line">    str += &apos;&apos;</span><br><span class="line">    let Y = &apos;&apos;</span><br><span class="line">    if(~(Y = from.indexOf(&apos;YYYY&apos;)))&#123;</span><br><span class="line">        Y = str.substr(Y, 4)</span><br><span class="line">        to = to.replace(/YYYY|yyyy/g,Y)</span><br><span class="line">    &#125;else if(~(Y = from.indexOf(&apos;YY&apos;)))&#123;</span><br><span class="line">        Y = str.substr(Y, 2)</span><br><span class="line">        to = to.replace(/YY|yy/g,Y)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    let k,i</span><br><span class="line">    [&apos;M&apos;,&apos;D&apos;,&apos;H&apos;,&apos;h&apos;,&apos;m&apos;,&apos;s&apos;].forEach(s =&gt;&#123;</span><br><span class="line">        i = from.indexOf(s+s)</span><br><span class="line">        k = ~i ? str.substr(i, 2) : &apos;&apos;</span><br><span class="line">        to = to.replace(s+s, k)</span><br><span class="line">    &#125;)</span><br><span class="line">    return to</span><br><span class="line">&#125;</span><br><span class="line">// dateStrForma(&apos;20190626&apos;, &apos;YYYYMMDD&apos;, &apos;YYYY年MM月DD日&apos;) ==&gt; 2019年06月26日</span><br><span class="line">// dateStrForma(&apos;121220190626&apos;, &apos;----YYYYMMDD&apos;, &apos;YYYY年MM月DD日&apos;) ==&gt; 2019年06月26日</span><br><span class="line">// dateStrForma(&apos;2019年06月26日&apos;, &apos;YYYY年MM月DD日&apos;, &apos;YYYYMMDD&apos;) ==&gt; 20190626</span><br><span class="line"></span><br><span class="line">// 一般的也可以使用正则来实现</span><br><span class="line">//&apos;2019年06月26日&apos;.replace(/(\d&#123;4&#125;)年(\d&#123;2&#125;)月(\d&#123;2&#125;)日/, &apos;$1-$2-$3&apos;) ==&gt; 2019-06-26</span><br></pre></td></tr></table></figure>

<h2 id="30-getPropByPath：根据字符串路径获取对象属性-‘obj-0-count’"><a href="#30-getPropByPath：根据字符串路径获取对象属性-‘obj-0-count’" class="headerlink" title="30. getPropByPath：根据字符串路径获取对象属性 : ‘obj[0].count’"></a>30. getPropByPath：根据字符串路径获取对象属性 : ‘obj[0].count’</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">function getPropByPath(obj, path, strict) &#123;</span><br><span class="line">      let tempObj = obj;</span><br><span class="line">      path = path.replace(/\[(\w+)\]/g, &apos;.$1&apos;); //将[0]转化为.0</span><br><span class="line">      path = path.replace(/^\./, &apos;&apos;); //去除开头的.</span><br><span class="line"></span><br><span class="line">      let keyArr = path.split(&apos;.&apos;); //根据.切割</span><br><span class="line">      let i = 0;</span><br><span class="line">      for (let len = keyArr.length; i &lt; len - 1; ++i) &#123;</span><br><span class="line">        if (!tempObj &amp;&amp; !strict) break;</span><br><span class="line">        let key = keyArr[i];</span><br><span class="line">        if (key in tempObj) &#123;</span><br><span class="line">            tempObj = tempObj[key];</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            if (strict) &#123;//开启严格模式，没找到对应key值，抛出错误</span><br><span class="line">                throw new Error(&apos;please transfer a valid prop path to form item!&apos;);</span><br><span class="line">            &#125;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return &#123;</span><br><span class="line">        o: tempObj, //原始数据</span><br><span class="line">        k: keyArr[i], //key值</span><br><span class="line">        v: tempObj ? tempObj[keyArr[i]] : null // key值对应的值</span><br><span class="line">      &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="31-GetUrlParam：获取Url参数，返回一个对象"><a href="#31-GetUrlParam：获取Url参数，返回一个对象" class="headerlink" title="31.GetUrlParam：获取Url参数，返回一个对象"></a>31.GetUrlParam：获取Url参数，返回一个对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function GetUrlParam()&#123;</span><br><span class="line">    let url = document.location.toString();</span><br><span class="line">    let arrObj = url.split(&quot;?&quot;);</span><br><span class="line">    let params = Object.create(null)</span><br><span class="line">    if (arrObj.length &gt; 1)&#123;</span><br><span class="line">        arrObj = arrObj[1].split(&quot;&amp;&quot;);</span><br><span class="line">        arrObj.forEach(item=&gt;&#123;</span><br><span class="line">            item = item.split(&quot;=&quot;);</span><br><span class="line">            params[item[0]] = item[1]</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    return params;</span><br><span class="line">&#125;</span><br><span class="line">// ?a=1&amp;b=2&amp;c=3 ==&gt; &#123;a: &quot;1&quot;, b: &quot;2&quot;, c: &quot;3&quot;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="32-downloadFile：base64数据导出文件，文件下载"><a href="#32-downloadFile：base64数据导出文件，文件下载" class="headerlink" title="32. downloadFile：base64数据导出文件，文件下载"></a>32. downloadFile：base64数据导出文件，文件下载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function downloadFile(filename, data)&#123;</span><br><span class="line">    let DownloadLink = document.createElement(&apos;a&apos;);</span><br><span class="line"></span><br><span class="line">    if ( DownloadLink )&#123;</span><br><span class="line">        document.body.appendChild(DownloadLink);</span><br><span class="line">        DownloadLink.style = &apos;display: none&apos;;</span><br><span class="line">        DownloadLink.download = filename;</span><br><span class="line">        DownloadLink.href = data;</span><br><span class="line"></span><br><span class="line">        if ( document.createEvent )&#123;</span><br><span class="line">            let DownloadEvt = document.createEvent(&apos;MouseEvents&apos;);</span><br><span class="line"></span><br><span class="line">            DownloadEvt.initEvent(&apos;click&apos;, true, false);</span><br><span class="line">            DownloadLink.dispatchEvent(DownloadEvt);</span><br><span class="line">        &#125;</span><br><span class="line">        else if ( document.createEventObject )</span><br><span class="line">            DownloadLink.fireEvent(&apos;onclick&apos;);</span><br><span class="line">        else if (typeof DownloadLink.onclick == &apos;function&apos; )</span><br><span class="line">            DownloadLink.onclick();</span><br><span class="line"></span><br><span class="line">        document.body.removeChild(DownloadLink);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="33-toFullScreen：全屏"><a href="#33-toFullScreen：全屏" class="headerlink" title="33. toFullScreen：全屏"></a>33. toFullScreen：全屏</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function toFullScreen()&#123;</span><br><span class="line">    let elem = document.body;</span><br><span class="line">    elem.webkitRequestFullScreen</span><br><span class="line">    ? elem.webkitRequestFullScreen()</span><br><span class="line">    : elem.mozRequestFullScreen</span><br><span class="line">    ? elem.mozRequestFullScreen()</span><br><span class="line">    : elem.msRequestFullscreen</span><br><span class="line">    ? elem.msRequestFullscreen()</span><br><span class="line">    : elem.requestFullScreen</span><br><span class="line">    ? elem.requestFullScreen()</span><br><span class="line">    : alert(&quot;浏览器不支持全屏&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="34-exitFullscreen：退出全屏"><a href="#34-exitFullscreen：退出全屏" class="headerlink" title="34. exitFullscreen：退出全屏"></a>34. exitFullscreen：退出全屏</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function exitFullscreen()&#123;</span><br><span class="line">    let elem = parent.document;</span><br><span class="line">    elem.webkitCancelFullScreen</span><br><span class="line">    ? elem.webkitCancelFullScreen()</span><br><span class="line">    : elem.mozCancelFullScreen</span><br><span class="line">    ? elem.mozCancelFullScreen()</span><br><span class="line">    : elem.cancelFullScreen</span><br><span class="line">    ? elem.cancelFullScreen()</span><br><span class="line">    : elem.msExitFullscreen</span><br><span class="line">    ? elem.msExitFullscreen()</span><br><span class="line">    : elem.exitFullscreen</span><br><span class="line">    ? elem.exitFullscreen()</span><br><span class="line">    : alert(&quot;切换失败,可尝试Esc退出&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="35-requestAnimationFrame：window动画"><a href="#35-requestAnimationFrame：window动画" class="headerlink" title="35. requestAnimationFrame：window动画"></a>35. requestAnimationFrame：window动画</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">window.requestAnimationFrame = window.requestAnimationFrame ||</span><br><span class="line">    window.webkitRequestAnimationFrame ||</span><br><span class="line">    window.mozRequestAnimationFrame ||</span><br><span class="line">    window.msRequestAnimationFrame ||</span><br><span class="line">    window.oRequestAnimationFrame ||</span><br><span class="line">    function (callback) &#123;</span><br><span class="line">        //为了使setTimteout的尽可能的接近每秒60帧的效果</span><br><span class="line">        window.setTimeout(callback, 1000 / 60);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">window.cancelAnimationFrame = window.cancelAnimationFrame ||</span><br><span class="line">    Window.webkitCancelAnimationFrame ||</span><br><span class="line">    window.mozCancelAnimationFrame ||</span><br><span class="line">    window.msCancelAnimationFrame ||</span><br><span class="line">    window.oCancelAnimationFrame ||</span><br><span class="line">    function (id) &#123;</span><br><span class="line">        //为了使setTimteout的尽可能的接近每秒60帧的效果</span><br><span class="line">        window.clearTimeout(id);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id="36-isNaN：检查数据是否是非数字值"><a href="#36-isNaN：检查数据是否是非数字值" class="headerlink" title="36. _isNaN：检查数据是否是非数字值"></a>36. _isNaN：检查数据是否是非数字值</h2><p><strong>原生的isNaN会把参数转换成数字(valueof)，而null、true、false以及长度小于等于1的数组(元素为非NaN数据)会被转换成数字，这不是我想要的。Symbol类型的数据不具有valueof接口，所以isNaN会抛出错误，这里放在后面，可避免错误</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function _isNaN(v)&#123;</span><br><span class="line">    return !(typeof v === &apos;string&apos; || typeof v === &apos;number&apos;) || isNaN(v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="37-max：求取数组中非NaN数据中的最大值"><a href="#37-max：求取数组中非NaN数据中的最大值" class="headerlink" title="37. max：求取数组中非NaN数据中的最大值"></a>37. max：求取数组中非NaN数据中的最大值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function max(arr)&#123;</span><br><span class="line">    arr = arr.filter(item =&gt; !_isNaN(item))</span><br><span class="line">    return arr.length ? Math.max.apply(null, arr) : undefined</span><br><span class="line">&#125;</span><br><span class="line">//max([1, 2, &apos;11&apos;, null, &apos;fdf&apos;, []]) ==&gt; 11</span><br></pre></td></tr></table></figure>

<h2 id="38-min：求取数组中非NaN数据中的最小值"><a href="#38-min：求取数组中非NaN数据中的最小值" class="headerlink" title="38. min：求取数组中非NaN数据中的最小值"></a>38. min：求取数组中非NaN数据中的最小值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function min(arr)&#123;</span><br><span class="line">    arr = arr.filter(item =&gt; !_isNaN(item))</span><br><span class="line">    return arr.length ? Math.min.apply(null, arr) : undefined</span><br><span class="line">&#125;</span><br><span class="line">//min([1, 2, &apos;11&apos;, null, &apos;fdf&apos;, []]) ==&gt; 1</span><br></pre></td></tr></table></figure>

<h2 id="39-random：返回一个lower-upper之间的随机数"><a href="#39-random：返回一个lower-upper之间的随机数" class="headerlink" title="39. random：返回一个lower - upper之间的随机数"></a>39. random：返回一个lower - upper之间的随机数</h2><p><strong>lower、upper无论正负与大小，但必须是非NaN的数据</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function random(lower, upper)&#123;</span><br><span class="line">    lower = +lower || 0</span><br><span class="line">    upper = +upper || 0</span><br><span class="line">    return Math.random() * (upper - lower) + lower;</span><br><span class="line">&#125;</span><br><span class="line">//random(0, 0.5) ==&gt; 0.3567039135734613</span><br><span class="line">//random(2, 1) ===&gt; 1.6718418553475423</span><br><span class="line">//random(-2, -1) ==&gt; -1.4474325452361945</span><br></pre></td></tr></table></figure>

<h2 id="40-Object-keys：返回一个由一个给定对象的自身可枚举属性组成的数组"><a href="#40-Object-keys：返回一个由一个给定对象的自身可枚举属性组成的数组" class="headerlink" title="40. Object.keys：返回一个由一个给定对象的自身可枚举属性组成的数组"></a>40. Object.keys：返回一个由一个给定对象的自身可枚举属性组成的数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Object.keys = Object.keys || function keys(object) &#123;</span><br><span class="line">    if(object === null || object === undefined)&#123;</span><br><span class="line">        throw new TypeError(&apos;Cannot convert undefined or null to object&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">    let result = []</span><br><span class="line">    if(isArrayLike(object) || isPlainObject(object))&#123;</span><br><span class="line">        for (let key in object) &#123;</span><br><span class="line">            object.hasOwnProperty(key) &amp;&amp; ( result.push(key) )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="41-Object-values：返回一个给定对象自身的所有可枚举属性值的数组"><a href="#41-Object-values：返回一个给定对象自身的所有可枚举属性值的数组" class="headerlink" title="41. Object.values：返回一个给定对象自身的所有可枚举属性值的数组"></a>41. Object.values：返回一个给定对象自身的所有可枚举属性值的数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Object.values = Object.values || function values(object) &#123;</span><br><span class="line">    if(object === null || object === undefined)&#123;</span><br><span class="line">        throw new TypeError(&apos;Cannot convert undefined or null to object&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">    let result = []</span><br><span class="line">    if(isArrayLike(object) || isPlainObject(object))&#123;</span><br><span class="line">        for (let key in object) &#123;</span><br><span class="line">            object.hasOwnProperty(key) &amp;&amp; ( result.push(object[key]) )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="42-arr-fill：使用-value-值来填充-array"><a href="#42-arr-fill：使用-value-值来填充-array" class="headerlink" title="42. arr.fill：使用 value 值来填充 array"></a>42. arr.fill：使用 value 值来填充 array</h2><p><strong>从start位置开始, 到end位置结束（但不包含end位置），返回原数组</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.fill = Array.prototype.fill || function fill(value, start, end) &#123;</span><br><span class="line">    let ctx = this</span><br><span class="line">    let length = ctx.length;</span><br><span class="line"></span><br><span class="line">    start = parseInt(start)</span><br><span class="line">    if(isNaN(start))&#123;</span><br><span class="line">        start = 0</span><br><span class="line">    &#125;else if (start &lt; 0) &#123;</span><br><span class="line">        start = -start &gt; length ? 0 : (length + start);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      end = parseInt(end)</span><br><span class="line">      if(isNaN(end) || end &gt; length)&#123;</span><br><span class="line">          end = length</span><br><span class="line">      &#125;else if (end &lt; 0) &#123;</span><br><span class="line">        end += length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    while (start &lt; end) &#123;</span><br><span class="line">        ctx[start++] = value;</span><br><span class="line">    &#125;</span><br><span class="line">    return ctx;</span><br><span class="line">&#125;</span><br><span class="line">//Array(3).fill(2) ===&gt; [2, 2, 2]</span><br></pre></td></tr></table></figure>

<h2 id="43-arr-includes：用来判断一个数组是否包含一个指定的值，如果是返回-true，否则false，可指定开始查询的位置"><a href="#43-arr-includes：用来判断一个数组是否包含一个指定的值，如果是返回-true，否则false，可指定开始查询的位置" class="headerlink" title="43. arr.includes：用来判断一个数组是否包含一个指定的值，如果是返回 true，否则false，可指定开始查询的位置"></a>43. arr.includes：用来判断一个数组是否包含一个指定的值，如果是返回 true，否则false，可指定开始查询的位置</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.includes = Array.prototype.includes || function includes(value, start)&#123;</span><br><span class="line">    let ctx = this</span><br><span class="line">    let length = ctx.length;</span><br><span class="line"></span><br><span class="line">    start = parseInt(start)</span><br><span class="line">    if(isNaN(start))&#123;</span><br><span class="line">        start = 0</span><br><span class="line">    &#125;else if (start &lt; 0) &#123;</span><br><span class="line">        start = -start &gt; length ? 0 : (length + start);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    let index = ctx.indexOf(value)</span><br><span class="line"></span><br><span class="line">    return index &gt;= start;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="44-arr-find：返回数组中通过测试（函数fn内判断）的第一个元素的值"><a href="#44-arr-find：返回数组中通过测试（函数fn内判断）的第一个元素的值" class="headerlink" title="44. arr.find：返回数组中通过测试（函数fn内判断）的第一个元素的值"></a>44. arr.find：返回数组中通过测试（函数fn内判断）的第一个元素的值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.find = Array.prototype.find || function find(fn, ctx)&#123;</span><br><span class="line">    ctx = ctx || this</span><br><span class="line"></span><br><span class="line">    let result;</span><br><span class="line">    ctx.some((value, index, arr), thisValue) =&gt; &#123;</span><br><span class="line">        return fn(value, index, arr) ? (result = value, true) : false</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="45-arr-findIndex-：返回数组中通过测试（函数fn内判断）的第一个元素的下标"><a href="#45-arr-findIndex-：返回数组中通过测试（函数fn内判断）的第一个元素的下标" class="headerlink" title="45. arr.findIndex ：返回数组中通过测试（函数fn内判断）的第一个元素的下标"></a>45. arr.findIndex ：返回数组中通过测试（函数fn内判断）的第一个元素的下标</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.findIndex = Array.prototype.findIndex || function findIndex(fn, ctx)&#123;</span><br><span class="line">    ctx = ctx || this</span><br><span class="line"></span><br><span class="line">    let result;</span><br><span class="line">    ctx.some((value, index, arr), thisValue) =&gt; &#123;</span><br><span class="line">        return fn(value, index, arr) ? (result = index, true) : false</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    return result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="46-performance-timing：利用performance-timing进行性能分析"><a href="#46-performance-timing：利用performance-timing进行性能分析" class="headerlink" title="46. performance.timing：利用performance.timing进行性能分析"></a>46. performance.timing：利用performance.timing进行性能分析</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">window.onload = function()&#123;</span><br><span class="line">    setTimeout(function()&#123;</span><br><span class="line">        let t = performance.timing</span><br><span class="line">        console.log(&apos;DNS查询耗时 ：&apos; + (t.domainLookupEnd - t.domainLookupStart).toFixed(0))</span><br><span class="line">        console.log(&apos;TCP链接耗时 ：&apos; + (t.connectEnd - t.connectStart).toFixed(0))</span><br><span class="line">        console.log(&apos;request请求耗时 ：&apos; + (t.responseEnd - t.responseStart).toFixed(0))</span><br><span class="line">        console.log(&apos;解析dom树耗时 ：&apos; + (t.domComplete - t.domInteractive).toFixed(0))</span><br><span class="line">        console.log(&apos;白屏时间 ：&apos; + (t.responseStart - t.navigationStart).toFixed(0))</span><br><span class="line">        console.log(&apos;domready时间 ：&apos; + (t.domContentLoadedEventEnd - t.navigationStart).toFixed(0))</span><br><span class="line">        console.log(&apos;onload时间 ：&apos; + (t.loadEventEnd - t.navigationStart).toFixed(0))</span><br><span class="line"></span><br><span class="line">        if(t = performance.memory)&#123;</span><br><span class="line">            console.log(&apos;js内存使用占比 ：&apos; + (t.usedJSHeapSize / t.totalJSHeapSize * 100).toFixed(2) + &apos;%&apos;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="47-禁止某些键盘事件"><a href="#47-禁止某些键盘事件" class="headerlink" title="47. 禁止某些键盘事件"></a>47. 禁止某些键盘事件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&apos;keydown&apos;, function(event)&#123;</span><br><span class="line">    return !(</span><br><span class="line">        112 == event.keyCode || //F1</span><br><span class="line">        123 == event.keyCode || //F12</span><br><span class="line">        event.ctrlKey &amp;&amp; 82 == event.keyCode || //ctrl + R</span><br><span class="line">        event.ctrlKey &amp;&amp; 78 == event.keyCode || //ctrl + N</span><br><span class="line">        event.shiftKey &amp;&amp; 121 == event.keyCode || //shift + F10</span><br><span class="line">        event.altKey &amp;&amp; 115 == event.keyCode || //alt + F4</span><br><span class="line">        &quot;A&quot; == event.srcElement.tagName &amp;&amp; event.shiftKey //shift + 点击a标签</span><br><span class="line">    ) || (event.returnValue = false)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="48-禁止右键、选择、复制"><a href="#48-禁止右键、选择、复制" class="headerlink" title="48. 禁止右键、选择、复制"></a>48. 禁止右键、选择、复制</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[&apos;contextmenu&apos;, &apos;selectstart&apos;, &apos;copy&apos;].forEach(function(ev)&#123;</span><br><span class="line">    document.addEventListener(ev, function(event)&#123;</span><br><span class="line">        return event.returnValue = false</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="49-正则"><a href="#49-正则" class="headerlink" title="49.正则"></a>49.正则</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// 匹配邮箱</span><br><span class="line">let reg = /^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]&#123;2,4&#125;)$</span><br><span class="line"></span><br><span class="line">// (新)匹配手机号</span><br><span class="line">let reg = /^1[0-9]&#123;10&#125;$/;</span><br><span class="line"></span><br><span class="line">// (旧)匹配手机号</span><br><span class="line">let reg = /^1[3|4|5|7|8][0-9]&#123;9&#125;$/;</span><br><span class="line"></span><br><span class="line">// 匹配8-16位数字和字母密码的正则表达式</span><br><span class="line">let reg = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;8,16&#125;$/;</span><br><span class="line"></span><br><span class="line">// 匹配国内电话号码 0510-4305211</span><br><span class="line">let reg = /\d&#123;3&#125;-\d&#123;8&#125;|\d&#123;4&#125;-\d&#123;7&#125;/;</span><br><span class="line"></span><br><span class="line">// 匹配身份证号码</span><br><span class="line">let reg=/(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/;</span><br><span class="line"></span><br><span class="line">// 匹配腾讯QQ号</span><br><span class="line">let reg = /[1-9][0-9]&#123;4,&#125;/;</span><br><span class="line"></span><br><span class="line">// 匹配ip地址</span><br><span class="line">let reg = /\d+\.\d+\.\d+\.\d+/;</span><br><span class="line"></span><br><span class="line">// 匹配中文</span><br><span class="line">let reg = /^[\u4e00-\u9fa5]*$/;</span><br></pre></td></tr></table></figure>

<h2 id="50-检测平台（设备）类型"><a href="#50-检测平台（设备）类型" class="headerlink" title="50.检测平台（设备）类型"></a>50.检测平台（设备）类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let isWechat = /micromessenger/i.test(navigator.userAgent),</span><br><span class="line">    isWeibo = /weibo/i.test(navigator.userAgent),</span><br><span class="line">    isQQ = /qq\//i.test(navigator.userAgent),</span><br><span class="line">    isIOS = /(iphone|ipod|ipad|ios)/i.test(navigator.userAgent),</span><br><span class="line">    isAndroid = /android/i.test(navigator.userAgent);</span><br></pre></td></tr></table></figure>

<h2 id="51-常用的日期时间函数"><a href="#51-常用的日期时间函数" class="headerlink" title="51.常用的日期时间函数"></a>51.常用的日期时间函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// 时间格式化</span><br><span class="line">function format_date(timeStamp) &#123;</span><br><span class="line">    let date = new Date(timeStamp);</span><br><span class="line">    return date.getFullYear() + &quot;年&quot;</span><br><span class="line">        + prefix_zero(date.getMonth() + 1) + &quot;月&quot;</span><br><span class="line">        + prefix_zero(date.getDate()) + &quot;日 &quot;</span><br><span class="line">        + prefix_zero(date.getHours()) + &quot;:&quot;</span><br><span class="line">        + prefix_zero(date.getMinutes());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数字格式化</span><br><span class="line">function prefix_zero(num) &#123;</span><br><span class="line">    return num &gt;= 10 ? num : &quot;0&quot; + num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 倒计时时间格式化</span><br><span class="line">function format_time(timeStamp) &#123;</span><br><span class="line">    let day = Math.floor(timeStamp / (24 * 3600 * 1000));</span><br><span class="line">    let leave1 = timeStamp % (24 * 3600 * 1000);</span><br><span class="line">    let hours = Math.floor(leave1 / (3600 * 1000));</span><br><span class="line">    let leave2 = leave1 % (3600 * 1000);</span><br><span class="line">    let minutes = Math.floor(leave2 / (60 * 1000));</span><br><span class="line">    let leave3 = leave2 % (60 * 1000);</span><br><span class="line">    let seconds = Math.floor(leave3 / 1000);</span><br><span class="line">    if (day) return day + &quot;天&quot; + hours + &quot;小时&quot; + minutes + &quot;分&quot;;</span><br><span class="line">    if (hours) return hours + &quot;小时&quot; + minutes + &quot;分&quot; + seconds + &quot;秒&quot;;</span><br><span class="line">    if (minutes) return minutes + &quot;分&quot; + seconds + &quot;秒&quot;;</span><br><span class="line">    if (seconds) return seconds + &quot;秒&quot;;</span><br><span class="line">    return &quot;时间到！&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="52-跨端事件处理"><a href="#52-跨端事件处理" class="headerlink" title="52.跨端事件处理"></a>52.跨端事件处理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// 是否支持触摸事件</span><br><span class="line">let isSupportTouch = (&quot;ontouchstart&quot; in document.documentElement) ? true : false;</span><br><span class="line"></span><br><span class="line">//禁用Enter键表单自动提交</span><br><span class="line">document.onkeydown = function(event) &#123;</span><br><span class="line">    let target, code, tag;</span><br><span class="line">    if (!event) &#123;</span><br><span class="line">        event = window.event; //针对ie浏览器</span><br><span class="line">        target = event.srcElement;</span><br><span class="line">        code = event.keyCode;</span><br><span class="line">        if (code == 13) &#123;</span><br><span class="line">            tag = target.tagName;</span><br><span class="line">            if (tag == &quot;TEXTAREA&quot;) &#123; return true; &#125;</span><br><span class="line">            else &#123; return false; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        target = event.target; //针对遵循w3c标准的浏览器，如Firefox</span><br><span class="line">        code = event.keyCode;</span><br><span class="line">        if (code == 13) &#123;</span><br><span class="line">            tag = target.tagName;</span><br><span class="line">            if (tag == &quot;INPUT&quot;) &#123; return false; &#125;</span><br><span class="line">            else &#123; return true; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="53-移动端适配方案"><a href="#53-移动端适配方案" class="headerlink" title="53.移动端适配方案"></a>53.移动端适配方案</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">(function (doc, win) &#123;</span><br><span class="line">    var docEl = doc.documentElement,</span><br><span class="line">        resizeEvt = &apos;orientationchange&apos; in window ? &apos;orientationchange&apos; : &apos;resize&apos;,</span><br><span class="line">        recalc = function () &#123;</span><br><span class="line">            var clientWidth = docEl.clientWidth;</span><br><span class="line">            var fontSize = 20;</span><br><span class="line">            docEl.style.fontSize = fontSize + &apos;px&apos;;</span><br><span class="line">            var docStyles = getComputedStyle(docEl);</span><br><span class="line">            var realFontSize = parseFloat(docStyles.fontSize);</span><br><span class="line">            var scale = realFontSize / fontSize;</span><br><span class="line">            console.log(&quot;realFontSize: &quot; + realFontSize + &quot;, scale: &quot; + scale);</span><br><span class="line">            fontSize = clientWidth / 667 * 20;</span><br><span class="line">            if(isIphoneX()) fontSize = 19;</span><br><span class="line">            fontSize = fontSize / scale;</span><br><span class="line">            docEl.style.fontSize = fontSize + &apos;px&apos;;</span><br><span class="line">        &#125;;</span><br><span class="line">    // Abort if browser does not support addEventListener</span><br><span class="line">    if (!doc.addEventListener) return;</span><br><span class="line">    win.addEventListener(resizeEvt, recalc, false);</span><br><span class="line">    doc.addEventListener(&apos;DOMContentLoaded&apos;, recalc, false);</span><br><span class="line"></span><br><span class="line">    // iphoneX判断</span><br><span class="line">    function isIphoneX()&#123;</span><br><span class="line">        return /iphone/gi.test(navigator.userAgent) &amp;&amp; (screen.height == 812 &amp;&amp; screen.width == 375)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)(document, window);</span><br><span class="line"></span><br><span class="line">xss预防方式</span><br><span class="line"></span><br><span class="line">// 敏感符号转义</span><br><span class="line">function entities(s) &#123;</span><br><span class="line">    let e = &#123;</span><br><span class="line">        &apos;&quot;&apos;: &apos;&amp;quot;&apos;,</span><br><span class="line">        &apos;&amp;&apos;: &apos;&amp;amp;&apos;,</span><br><span class="line">        &apos;&lt;&apos;: &apos;&amp;lt;&apos;,</span><br><span class="line">        &apos;&gt;&apos;: &apos;&amp;gt;&apos;</span><br><span class="line">    &#125;</span><br><span class="line">    return s.replace(/[&quot;&lt;&gt;&amp;]/g, m =&gt; &#123;</span><br><span class="line">        return e[m]</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="54-常用的js算法"><a href="#54-常用的js算法" class="headerlink" title="54.常用的js算法"></a>54.常用的js算法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 节流函数--规定在一个单位时间内，只能触发一次函数。如果这个单位时间内触发多次函数，只有一次生效。</span><br><span class="line"> */</span><br><span class="line">function throttle(fun, delay) &#123;</span><br><span class="line">    let last, deferTimer</span><br><span class="line">    return function (args) &#123;</span><br><span class="line">        let that = this</span><br><span class="line">        let _args = arguments</span><br><span class="line">        let now = +new Date()</span><br><span class="line">        if (last &amp;&amp; now &lt; last + delay) &#123;</span><br><span class="line">            clearTimeout(deferTimer)</span><br><span class="line">            deferTimer = setTimeout(function () &#123;</span><br><span class="line">                last = now</span><br><span class="line">                fun.apply(that, _args)</span><br><span class="line">            &#125;, delay)</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            last = now</span><br><span class="line">            fun.apply(that,_args)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 防抖函数--在事件被触发n秒后再执行回调，如果在这n秒内又被触发，则重新计时</span><br><span class="line"> */</span><br><span class="line"> function debounce(fun, delay) &#123;</span><br><span class="line">    return function (args) &#123;</span><br><span class="line">        let that = this</span><br><span class="line">        clearTimeout(fun.id)</span><br><span class="line">        fun.id = setTimeout(function () &#123;</span><br><span class="line">            fun.call(that, args)</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 观察者模式</span><br><span class="line">let Observer = (function()&#123;</span><br><span class="line">  let t __messages = &#123;&#125;;</span><br><span class="line">  return &#123;</span><br><span class="line">    regist: function(type, fn) &#123;</span><br><span class="line">      if(typeof __messages[type] === &apos;undefined&apos;) &#123;</span><br><span class="line">        messages[type] = [fn];</span><br><span class="line">      &#125;else &#123;</span><br><span class="line">        __messages[type].push(fn);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    fire: function(type, args) &#123;</span><br><span class="line">      if(!__messages[type])&#123;</span><br><span class="line">        return</span><br><span class="line">      &#125;</span><br><span class="line">      let events = &#123;</span><br><span class="line">        type: type,</span><br><span class="line">        args: args || &#123;&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      i = 0,</span><br><span class="line">      len = __messages[type].length;</span><br><span class="line">      for(;i&lt;len;i++)&#123;</span><br><span class="line">        __messages[type][i].call(this, events);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    remove: function(type, fn) &#123;</span><br><span class="line">      if(__messages[type] instanceof Array)&#123;</span><br><span class="line">        let i = __messages[type].length -1;</span><br><span class="line">        for(;i&gt;=0;i--)&#123;</span><br><span class="line">          __messages[type][i] === fn &amp;&amp; __messages[type].splice(i, 1)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"> // 模板渲染方法</span><br><span class="line"> function formatString(str, data) &#123;</span><br><span class="line">   return str.replace(/\&#123;\&#123;(\w+)\&#125;\&#125;/g, function(match, key) &#123;</span><br><span class="line">     return typeof data[key] === undefined ? &apos;&apos; : data[key]</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> // 冒泡排序</span><br><span class="line">function bubbleSort(arr) &#123;</span><br><span class="line">    for (let i = arr.length - 1; i &gt; 0; i--) &#123;</span><br><span class="line">      for (let j = 0; j &lt; i; j++) &#123;</span><br><span class="line">        if (arr[j] &gt; arr[j + 1]) &#123;</span><br><span class="line">          swap(arr, j, j + 1);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 置换函数</span><br><span class="line">function swap(arr, indexA, indexB) &#123;</span><br><span class="line">    [arr[indexA], arr[indexB]] = [arr[indexB], arr[indexA]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 数组去重</span><br><span class="line">function distinct(arr = testArr) &#123;</span><br><span class="line">    return arr.filter((v, i, array) =&gt; array.indexOf(v) === i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Golden W</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/07/04/19-07-14/">http://yoursite.com/2019/07/04/19-07-14/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com">aXi(囍)</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JavaScript/">JavaScript    </a></div><div class="post_share"><div class="social-share" data-image="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1562188381600&amp;di=6cc45a835711891832093ad4a4bf0551&amp;imgtype=0&amp;src=http%3A%2F%2Fpic.qqtn.com%2Fup%2F2018-2%2F15193565237817533.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-buttom"><i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lozad post-qr-code__img" data-src="/img/wechat.jpg"><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lozad post-qr-code__img" data-src="/img/alipay.jpg"><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull-full"><a href="/2020/05/31/20-05-31/"><img class="prev_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>Vue源码学习</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/05/31/20-05-31/" title="Vue源码学习"><img class="relatedPosts_cover lozad" data-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/default_bg.png"><div class="relatedPosts_title">Vue源码学习</div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

var localeName = 'tw',
localeMode = {
    head: {
        nick: '昵称(必填)',
        mail: '邮箱(必填,可以收到回復提醒)',
        link: '网址(选填)',
    },
    tips: {
        comments: '评论',
        sofa: '快来做第一个评论的人吧~',
        busy: '还在提交中,请稍后...',
        again: '这么简单也能错，也是没谁了.'
    },
    ctrl: {
        reply: '回复',
        ok: '好的',
        sure: '确认',
        cancel: '取消',
        confirm: '确认',
        continue: '继续',
        more: '查看更多...',
        try: '再试试?',
        preview: '预览',
        emoji: '表情'
    },
    error: {
        99: '初始化失敗，請檢查init中的`el`元素.',
        100: '初始化失敗，請檢查你的AppId和AppKey.',
        401: '未經授權的操作，請檢查你的AppId和AppKey.',
        403: '訪問被api域名白名單拒絕，請檢查你的安全域名設置.',
    },
    timeago: {
        seconds: '秒前',
        minutes: '分钟前',
        hours: '小时前',
        days: '天前',
        now: '刚刚'
    }
};

window.valine = new Valine();
valine.installLocale(localeName,localeMode);

valine.init({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'qwObbLUeCoc8yEYYVKPpcK0p-gzGzoHsz',
  appKey:'MeW4542aXG0jF15SjUmFCoWP',
  placeholder:'Please leave your footprints',
  avatar:'monsterid',
  guest_info:guest_info,
  pageSize:'10',
  lang:'zh-cn',
  recordIP: true
});</script></div></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 By Golden W</div><div class="framework-info"><span>Power by </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly"><span>Butterfly</span></a></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><section class="rightside" id="rightside"><i class="fa fa-book" id="readmode" title="阅读模式"> </i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换">簡</a><i class="fa fa-moon-o nightshift" id="nightshift" title="夜间模式"></i></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script async src="/js/search/algolia.js"></script><script src="/js/nightshift.js"></script><script id="ribbon" src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/js/piao.js"></script><script src="/js/activate-power-mode.js"></script><script>POWERMODE.colorful = true; // make power mode colorful
POWERMODE.shake = true; // turn off shake
document.body.addEventListener('input', POWERMODE);
</script><script src="/js/tw_cn.js"></script><script>translateInitilization()

</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@1.2.2/instantpage.min.js" type="module"></script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>